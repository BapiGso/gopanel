<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>Login</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* 1. 基础重置 */
        * { padding: 0; margin: 0; box-sizing: border-box; outline: none; }

        /* 字体配置 */
        :root {
            --font-main: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
            --color-primary: #ff8da1; /* 少女粉 */
            --color-bg-gradient: linear-gradient(135deg, #fde0e6 0%, #fff 100%);
        }

        body {
            width: 100%;
            height: 100vh;
            font-family: var(--font-main);
            overflow: hidden;
            background: #fff;
        }

        /* 2. 布局容器 */
        body > article {
            width: 100%;
            height: 100vh;
            background: var(--color-bg-gradient);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* 3. SVG 背景 (保持不动) */
        body > article > svg {
            position: absolute;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            pointer-events: none;
        }

        /* 4. 登录表单主体 */
        body > article > form {
            position: absolute;
            /* 按照你原本的偏好位置 */
            top: 20%;
            right: 20%;

            width: 380px;
            /* 稍微增加高度以适应舒适的间距 */
            min-height: 420px;
            padding: 40px 35px;

            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 25px;

            border-radius: 20px;

            /* --- 关键修复：恢复 SVG 滤镜 --- */
            /* 同时叠加一点 blur 让文字更易读，保留 url(#displacementFilter) 实现扭曲质感 */
            backdrop-filter: url(#displacementFilter) ;
            -webkit-backdrop-filter: url(#displacementFilter) ;

            background: rgba(255, 255, 255, 0.15); /* 半透明白底 */
            box-shadow:
                    0 10px 40px rgba(255, 182, 193, 0.3),
                    0 1px 2px rgba(0,0,0,0.05);
            border: 1px solid rgba(255, 255, 255, 0.6);

            z-index: 1;
            /* 已移除 hover transform 动画 */
        }

        /* 标题 */
        body > article > form > h1 {
            font-size: 2rem;
            font-weight: 800;
            color: #fff;
            /* 增加一点粉色文字阴影，保留清新感 */
            text-shadow: 0 2px 10px rgba(255, 105, 180, 0.4);
            letter-spacing: 1px;
            margin-bottom: 5px;
            user-select: none;
        }

        /* 头像 */
        body > article > form > img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 8px 20px rgba(255, 192, 203, 0.5);
        }

        /* 输入框 */
        body > article > form > input {
            width: 100%;
            height: 50px;
            border-radius: 25px;
            border: 2px solid transparent;
            background: rgba(255, 255, 255, 0.85);
            padding: 0 25px;
            font-size: 15px;
            color: #555;
            transition: background 0.3s, border-color 0.3s; /* 仅颜色过渡，无位移 */
        }

        body > article > form > input:focus {
            background: #fff;
            border-color: #ffb7c5;
            box-shadow: 0 0 0 4px rgba(255, 183, 197, 0.2);
        }

        body > article > form > input::placeholder {
            color: #999;
        }

        /* 按钮 */
        body > article > form > .button {
            width: 100%;
            height: 45px;
            border-radius: 25px;
            border: none;
            /* 少女粉渐变 */
            background: linear-gradient(90deg, #ff9a9e 0%, #fecfef 100%);
            color: #fff;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(255, 154, 158, 0.4);
            transition: opacity 0.3s; /* 仅透明度过渡 */
        }

        body > article > form > .button:hover {
            opacity: 0.9;
            /* 已移除 transform scale */
        }
    </style>
</head>
<body>
<article>
    <!-- 你的原始 SVG 结构，保留 ID 用于滤镜 -->
    <svg width="100%" height="100vh" viewBox="-30 -20 390 390">
        <filter id="displacementFilter">
            <feTurbulence type="turbulence" baseFrequency="0.01 .1" numOctaves="1" result="turbulence" seed="95" />
            <feDisplacementMap in2="turbulence" in="SourceGraphic" scale="15" xChannelSelector="R" yChannelSelector="B" />
        </filter>
        <g fill="#fde">
            <animateTransform attributeName="transform" type="rotate" from="0 151 151" to="360 151 151" dur="9.5s" repeatCount="indefinite" />
            <path d="M 150 150 L 50 150 A 50 50 0 0 1 50 50 A 50 50 0 0 1 150 50 Z" />
            <path d="M 152 150 L 152 50 A 50 50 0 0 1 252 50 A 50 50 0 0 1 252 150 Z" />
            <path d="M 152 152 L 252 152 A 50 50 0 0 1 252 254 A 50 50 0 0 1 152 254 Z"/>
            <path d="M 150 152 L 150 254 A 50 50 0 0 1 50 254 A 50 50 0 0 1 50 152 Z"/>
        </g>
    </svg>

    <!-- 原生 JS 处理逻辑 -->
    <form id="loginForm" action="" method="post">
        <h1>Sign in</h1>
        <!-- 头像占位图，生产环境请替换为真实路径 -->
        <img alt="avatar" src="/assets/img/avatar.webp" onerror="this.src='https://ui-avatars.com/api/?name=Girl&background=ffdee6&color=fff&size=128'">

        <input id="username" aria-label="username" placeholder="Username" type="text" name="username" required>
        <input id="password" aria-label="password" placeholder="Password" type="password" name="password" required>

        <button class="button" type="submit">Login</button>
    </form>
</article>

<script>
    // 原生 JS 实现 LocalStorage 记忆功能
    document.addEventListener('DOMContentLoaded', () => {
        const usernameInput = document.getElementById('username');
        const passwordInput = document.getElementById('password');
        const form = document.getElementById('loginForm');

        // 读取
        usernameInput.value = localStorage.getItem('username') || '';
        passwordInput.value = localStorage.getItem('password') || '';

        // 保存
        form.addEventListener('submit', () => {
            localStorage.setItem('username', usernameInput.value);
            localStorage.setItem('password', passwordInput.value);
        });
    });
</script>
</body>
</html>
